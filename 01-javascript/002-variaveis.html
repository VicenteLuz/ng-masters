<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>AngularJS</title>
<link rel="stylesheet" href="../css/curso.css">
<script type="text/javascript">

///////////////////

v1 = 'Hello World';
var v2 = 2;

function f(){
  v3 = true;
  var v4 = v2+2;
}

f();

</script>
</head>
<body>
<div class="container content">
  <h1>Variaveis</h1>

  <div>

    <section>
      <p>Sempre existe um objeto chamado window</p>
      <button onclick="alert(window)">alert(window)</button>
    </section>

    <section>
      <p>Esse objeto representa a janela do browser.
      Por exemplo, ele sabe dar scroll:</p>
      <button onclick="window.scrollTo(0,1000)">window.scrollTo(0,1000)</button>
    </section>

    <section>
      <p>Sem o "var", variáveis vão parar nesse objeto window</p>
      <button onclick="alert(window.v1)">alert(window.v1)</button>
    </section>

    <section>
      <p>Coisas que estão no window, são chamadas de globais.
        Se é global, não precisa do "window."</p>
      <button onclick="alert(v1)">alert(v1)</button>
    </section>

    <section>
      <p>alert é uma função global</p>
      <button onclick="window.alert(v1)">window.alert(v1)</button>
    </section>

    <section>
      <p>Se definida fora de uma função, a variável é global.
        Mesmo usando "var" </p>
      <button onclick="alert(v2)">alert(v2)</button>
    </section>

    <section>
      <p>Sem "var", a variável é global. Mesmo definida dentro de uma função. </p>
      <button onclick="alert(v3)">alert(v3)</button>
    </section>

    <section>
      <p>Quando uma variável não é global, ela é local. </p>
      <button onclick="alert(window.v4)">alert(window.v4)</button>
    </section>


    <section>
      <p>Ei, vc já viu a toolbar do chrome? É uma mão na roda!</p>
      <ul>
        <li>Console</li>
        <li>Debug</li>
        <li>Elements</li>
        <li>Network</li>
      </ul>
    </section>

    <section>
      <p>EVITE criar coisas globais</p>

      <pre>
  function(){
    var v1 = 2+2;
    function inicializa(){
      //blabla    
    }
    inicializa();
  }();
      </pre>

      <p> Mas se precisar, cria <strong>só uma</strong>, e seja explícito! </p>

      <pre>
  if(!window.Global){
    window.Global = {};
  }
  window.Global.twitterURL = 'http://twitter.com';
      </pre>
    </section>


    <section>
      <p>"undefined" é uma variável global retornada sempre
       que vc tenta acessar um campo inexistente de um objeto</p>
      <button onclick="alert(window.v4)">alert(window.v4)</button>
    </section>


    <section>
      <p>E isso é diferente de usar uma variável que _não existe_
        (Olha o console aí...)</p>
      <button onclick="alert(v4)">alert(v4)</button>
    </section>
  </div>

  <footer>
    <h3>Manjei, PRÓXIMO!</h3>
    <ul>
      <li><a href="003-arrays_objetos.html">Arrays e Objetos</a></li>
    </ul>
  </footer>
</div>

</body>
</html>
